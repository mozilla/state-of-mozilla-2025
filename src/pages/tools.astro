---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
// import Captcha from "../components/Captcha.svelte";
import Svg from "../components/Svg.svelte";
// import ProgressWatcher from "../components/ProgressWatcher.svelte";
import OrganizationWrapper from "../components/OrganizationWrapper.astro";
import { organizations } from "../data/organizations";
import dotsBig from "../assets/img/dots-big.png";
import Video from "../components/Video.svelte";
---

<Layout>
  <!-- <Captcha client:load /> -->

  <section class="relative p-2.5 lg:p-5 min-h-[50vh] bg-yellow overflow-hidden">
    <Image
      priority
      class="absolute bottom-0 left-0 right-0 lg:translate-y-1/2"
      src={dotsBig}
      alt=""
    />
    <div
      class="absolute w-1/2 lg:w-1/4 h-3/5 lg:h-11/12 right-2.5 lg:right-5 bottom-2.5 lg:bottom-5"
    >
      <Svg client:load src="/svg/icon-tools.svg" class="w-full h-full" />
    </div>
    <div class="relative lg:w-3/4 space-y-2.5 lg:space-y-5">
      <h1 class="font-mainframe uppercase text-5xl lg:text-8xl xl:text-[7rem]">
        What we’re
        <br />building
      </h1>
    </div>
  </section>

  <section class="p-2.5 lg:p-5 space-y-2.5 lg:space-y-5">
    <div class="grid lg:grid-cols-4 gap-2.5 lg:gap-5">
      <div class="lg:col-span-2 lg:col-start-2 space-y-2.5 lg:space-y-5">
        <p>
          If the future of AI and the web are still up for grabs, the tools we
          build - our products, programs and investments - are our most powerful
          levers in shaping how things work out.
        </p>
        <p>
          A primary focus remains making the products you know and love, Firefox
          and Thunderbird, even better, while continuing to invest in our
          charitable mission to support public interest technology. At the same
          time, it’s critical that we use these platforms as a springboard to
          push AI in a better direction.
        </p>
        <p>
          With this dual goal in mind, <strong
            >we’ve rewired Mozilla into a family of organizations housed under
            the Mozilla Foundation, each tuned to empower people with tech that
            promotes agency and choice.</strong
          > As always, every Mozilla entity remains owned and controlled by a non-profit
          parent, ensuring they prioritize public interest and that their profits
          will be available to support and expand the nonprofit’s activities in support
          of its purpose.
        </p>
        <p>
          This is not just an ambition. We’re already doing it, <a
            target="_blank"
            class="underline"
            href="https://blog.mozilla.org/mozilla/rewiring-mozilla-ai-and-web/"
            >guided by a 3 year-strategy across our full portfolio</a
          >. Here’s a look at how:
        </p>
      </div>
    </div>
  </section>

  <section class="p-2.5 lg:p-5 space-y-2.5 lg:space-y-5">
    <div class="grid lg:grid-cols-12 gap-2.5 lg:gap-5">
      <div
        class="lg:col-span-10 lg:col-start-2 xl:col-span-8 xl:col-start-3 2xl:col-span-6 2xl:col-start-4 space-y-2.5 lg:space-y-5"
      >
        <div class="grid lg:grid-cols-3 gap-px">
          <a
            href="#corp"
            class="group p-2.5 lg:p-5 flex flex-col justify-center items-center text-center outline outline-dashed bg-yellow hover:bg-black hover:text-yellow"
          >
            <p>Mozilla Corp</p>
            <p
              class="bg-black text-yellow group-hover:bg-yellow group-hover:text-black"
            >
              Grow Firefox
            </p>
          </a>
          <a
            href="#mzla"
            class="group p-2.5 lg:p-5 flex flex-col justify-center items-center text-center outline outline-dashed bg-yellow hover:bg-black hover:text-yellow"
          >
            <p>MZLA Technologies</p>
            <p
              class="bg-black text-yellow group-hover:bg-yellow group-hover:text-black"
            >
              Evolve Thunderbird
            </p>
          </a>
          <a
            href="#foundation"
            class="group p-2.5 lg:p-5 flex flex-col justify-center items-center text-center outline outline-dashed bg-yellow hover:bg-black hover:text-yellow"
          >
            <p>Mozilla Foundation</p>
            <p
              class="bg-black text-yellow group-hover:bg-yellow group-hover:text-black"
            >
              Invest in community
            </p>
          </a>
          <a
            href="#ventures"
            class="group p-2.5 lg:p-5 flex flex-col justify-center items-center text-center outline outline-dashed bg-yellow hover:bg-black hover:text-yellow"
          >
            <p>Mozilla Ventures</p>
            <p
              class="bg-black text-yellow group-hover:bg-yellow group-hover:text-black"
            >
              Invest in startups
            </p>
          </a>
          <a
            href="#ai"
            class="group p-2.5 lg:p-5 flex flex-col justify-center items-center text-center outline outline-dashed bg-yellow hover:bg-black hover:text-yellow"
          >
            <p>Mozilla.ai</p>
            <p
              class="bg-black text-yellow group-hover:bg-yellow group-hover:text-black"
            >
              Build AI dev tools
            </p>
          </a>
          <a
            href="#new"
            class="group p-2.5 lg:p-5 flex flex-col justify-center items-center text-center outline outline-dashed bg-yellow hover:bg-black hover:text-yellow"
          >
            <p>New initiatives</p>
            <p
              class="bg-black text-yellow group-hover:bg-yellow group-hover:text-black"
            >
              Improve open source AI
            </p>
          </a>
        </div>
      </div>
    </div>
  </section>

  <section class="p-2.5 lg:p-5 space-y-2.5 lg:space-y-5">
    <div class="grid lg:grid-cols-14 gap-2.5 lg:gap-5">
      <div class="lg:col-span-8 lg:col-start-4 space-y-2.5 lg:space-y-5">
        <Video
          client:load
          src="https://player.vimeo.com/progressive_redirect/playback/1155181479/rendition/1080p/file.mp4%20%281080p%29.mp4?loc=external&signature=1b39c6c6f9250ade6f961c9e95fc948f078eb8c0d1a861c717906c6978c399d3"
        />
      </div>
    </div>
  </section>

  <section class="p-2.5 lg:p-5 space-y-2.5 lg:space-y-5">
    <div class="grid lg:grid-cols-4 gap-2.5 lg:gap-5">
      <div class="lg:col-span-2 lg:col-start-2 space-y-15">
        {organizations.map((org) => <OrganizationWrapper organization={org} />)}
      </div>
    </div>
  </section>

  <section class="px-2.5 lg:px-5">
    <div class="grid lg:grid-cols-3 lg:gap-2.5">
      <div class="lg:col-start-2">
        <a
          class="group flex flex-col gap-px bg-yellow text-black hover:bg-black hover:text-white outline outline-dashed outline-black divide-y divide-dashed"
          href="/ledger"
        >
          <div>
            <div class="p-2.5 p-5 space-y-2.5">
              <p class="uppercase">Go to next chapter</p>
              <h3
                class="text-5xl lg:text-xl xl:text-2xl 2xl:text-3xl uppercase"
              >
                Ledger
              </h3>
            </div>
            <div class="relative overflow-hidden h-10 lg:h-20 -mt-10">
              <Svg
                client:load
                src="/svg/dots.svg"
                class="absolute left-0 right-0 top-1/2 -translate-y-1/2 w-full object-cover"
              />
            </div>
          </div>
          <div class="p-2.5">PROCEED →</div>
        </a>
      </div>
    </div>
  </section>

  <!-- <ProgressWatcher
    client:load
    current="tools"
    number="three"
    n="3"
    position="third"
    next="ledger"
    text=""
  /> -->
</Layout>
